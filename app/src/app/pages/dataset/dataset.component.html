<!-- Dataset Tab Content -->
<div class="dataset-section">
    <div class="section-header">
        <h2>Dataset Structure</h2>
        <p>Detailed exploration of variables and their distribution in PalmTraits 1.0</p>
    </div>

    <div class="dataset-overview">
        <p>
            Palma-1.0 contains comprehensive data on over 2,500 palm species across 181 genera.
            The dataset combines morphological traits, taxonomic classification, geographic distribution,
            and detailed fruit characteristics. This database has been enhanced with information from
            GBIF, iNaturalist, and POWO (Plants of the World Online).
        </p>
    </div>

    <!-- Dataset Export Section -->
    <div class="export-section">
        <h3>Download Dataset</h3>
        <p>Access the complete PalmTraits 1.0 dataset in multiple formats</p>
        <div class="export-buttons">
            <button class="export-btn" (click)="downloadDataset('txt')">
                <div class="icon-wrapper">
                    <img src="assets/icons/txt.png" alt="TXT" class="custom-icon">
                </div>
                <span>Original Dataset</span>
                <small>palma_dataset_1.0.txt (TSV format)</small>
            </button>
            <button class="export-btn" (click)="downloadDataset('json')">
                <div class="icon-wrapper">
                    <img src="assets/icons/json.png" alt="JSON" class="custom-icon">
                </div>
                <span>JSON Format</span>
                <small>palma_dataset_1.0.json (4.4 MB)</small>
            </button>
            <button class="export-btn" (click)="downloadDataset('csv')">
                <div class="icon-wrapper">
                    <img src="assets/icons/csv.png" alt="CSV" class="custom-icon">
                </div>
                <span>CSV Format</span>
                <small>palma_dataset_1.0.csv (2.1 MB)</small>
            </button>
        </div>
    </div>

    <!-- Repository Section -->
    <div class="huggingface-repository">
        <h3>
            <div class="header-icon">
                <div class="icon-wrapper">
                    <img src="assets/icons/hugging-face.png" alt="Hugging Face" class="custom-icon">
                </div>
            </div>
            Hugging Face Dataset
        </h3>
        <p>
            The entire Palma-1.0 dataset is available on Hugging Face. 
            We welcome feedback and contributions from the research community.
        </p>
        <div class="repository-links">
            <a href="https://huggingface.co/datasets/kitsuiwebster/Palma-1.0" target="_blank" class="btn-repository">
                <div class="icon-wrapper">
                    <img src="assets/icons/mindmap.png" alt="Dataset" class="custom-icon">
                </div>
                <span>View on Hugging Face</span>
            </a>
        </div>
    </div>

    <div class="dataset-variables">
        <!-- Taxonomy Group -->
        <div class="variable-group" [class.expanded]="expandedGroups.taxonomy">
            <div class="group-header" (click)="toggleGroup('taxonomy', $event)">
                <div class="header-icon">
                    <div class="icon-wrapper">
                        <img src="assets/icons/dna.png" alt="Taxonomy" class="custom-icon">
                    </div>
                </div>
                <h3>Taxonomy</h3>
                <div class="expand-icon">
                    <div class="icon-wrapper">
                        <img src="assets/icons/expand.png" alt="Expand" class="custom-icon">
                    </div>
                </div>
            </div>
            <div class="variables-list" *ngIf="expandedGroups.taxonomy">
                <div class="variable-item">
                    <span class="variable-name">SpecName</span>
                    <span class="variable-description">Complete scientific name of the species</span>
                    <div class="variable-example">Example: <span class="example-value">Acanthophoenix crinita</span>
                    </div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">accGenus</span>
                    <span class="variable-description">Taxonomic genus</span>
                    <div class="variable-example">Example: <span class="example-value">Acanthophoenix</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">accSpecies</span>
                    <span class="variable-description">Species epithet</span>
                    <div class="variable-example">Example: <span class="example-value">crinita</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">PalmTribe</span>
                    <span class="variable-description">Taxonomic tribe</span>
                    <div class="variable-example">Example: <span class="example-value">Areceae</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">PalmSubfamily</span>
                    <span class="variable-description">Subfamily within Arecaceae</span>
                    <div class="variable-example">Example: <span class="example-value">Arecoideae</span></div>
                </div>
            </div>
        </div>

        <!-- Geographic Group -->
        <div class="variable-group" [class.expanded]="expandedGroups.geography">
            <div class="group-header" (click)="toggleGroup('geography', $event)">
                <div class="header-icon">
                    <div class="icon-wrapper">
                        <img src="assets/icons/location.png" alt="Geography" class="custom-icon">
                    </div>
                </div>
                <h3>Native Zone & Common Names</h3>
                <div class="expand-icon">
                    <div class="icon-wrapper">
                        <img src="assets/icons/expand.png" alt="Expand" class="custom-icon">
                    </div>
                </div>
            </div>
            <div class="variables-list" *ngIf="expandedGroups.geography">
                <div class="variable-item">
                    <span class="variable-name">NativeRegion</span>
                    <span class="variable-description">Primary native geographic region</span>
                    <div class="variable-example">Example: <span class="example-value">EC. & SE. Réunion</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">CommonNamesEN</span>
                    <span class="variable-description">Common names in English</span>
                    <div class="variable-example">Example: <span class="example-value">Everglades palm, paurotis
                            palm</span>
                    </div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">CommonNamesFR</span>
                    <span class="variable-description">Common names in French</span>
                    <div class="variable-example">Example: <span class="example-value">Palmiste rouge, Palmiste
                            boure</span>
                    </div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">CommonNamesSP</span>
                    <span class="variable-description">Common names in Spanish</span>
                    <div class="variable-example">Example: <span class="example-value">tasiste</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">Photos</span>
                    <span class="variable-description">URLs to species photographs</span>
                    <div class="variable-example">Example: <span class="example-value">[URL links to images]</span>
                    </div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">PhotoReferences</span>
                    <span class="variable-description">Attribution for photographs</span>
                    <div class="variable-example">Example: <span class="example-value">(c) Aurélien Bour, some rights
                            reserved (CC BY-NC)</span></div>
                </div>
            </div>
        </div>

        <!-- Growth & Habit Group -->
        <div class="variable-group" [class.expanded]="expandedGroups.growth">
            <div class="group-header" (click)="toggleGroup('growth', $event)">
                <div class="header-icon">
                    <div class="icon-wrapper">
                        <img src="assets/icons/palm.png" alt="Growth" class="custom-icon">
                    </div>
                </div>
                <h3>Growth & Habit</h3>
                <div class="expand-icon">
                    <div class="icon-wrapper">
                        <img src="assets/icons/expand.png" alt="Expand" class="custom-icon">
                    </div>
                </div>
            </div>
            <div class="variables-list" *ngIf="expandedGroups.growth">
                <div class="variable-item">
                    <span class="variable-name">Climbing</span>
                    <span class="variable-description">Climbing growth habit (0/1)</span>
                    <div class="variable-example">Example: <span class="example-value">0</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">Acaulescent</span>
                    <span class="variable-description">Without an above-ground stem (0/1)</span>
                    <div class="variable-example">Example: <span class="example-value">0</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">Erect</span>
                    <span class="variable-description">Upright growth pattern (0/1)</span>
                    <div class="variable-example">Example: <span class="example-value">1</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">StemSolitary</span>
                    <span class="variable-description">Single stem vs. clustering (0/1)</span>
                    <div class="variable-example">Example: <span class="example-value">1</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">StemArmed</span>
                    <span class="variable-description">Presence of spines on stem (0/1)</span>
                    <div class="variable-example">Example: <span class="example-value">1</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">MaxStemHeight_m</span>
                    <span class="variable-description">Maximum height (m)</span>
                    <div class="variable-example">Example: <span class="example-value">15</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">MaxStemDia_cm</span>
                    <span class="variable-description">Maximum stem diameter (cm)</span>
                    <div class="variable-example">Example: <span class="example-value">20</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">UnderstoreyCanopy</span>
                    <span class="variable-description">Growth position in forest structure</span>
                    <div class="variable-example">Example: <span class="example-value">canopy</span></div>
                </div>
            </div>
        </div>

        <!-- Leaf Characteristics Group -->
        <div class="variable-group" [class.expanded]="expandedGroups.leaves">
            <div class="group-header" (click)="toggleGroup('leaves', $event)">
                <div class="header-icon">
                    <div class="icon-wrapper">
                        <img src="assets/icons/leaf.png" alt="Leaves" class="custom-icon">
                    </div>
                </div>
                <h3>Leaf Characteristics</h3>
                <div class="expand-icon">
                    <div class="icon-wrapper">
                        <img src="assets/icons/expand.png" alt="Expand" class="custom-icon">
                    </div>
                </div>
            </div>
            <div class="variables-list" *ngIf="expandedGroups.leaves">
                <div class="variable-item">
                    <span class="variable-name">LeavesArmed</span>
                    <span class="variable-description">Presence of spines on leaves (0/1)</span>
                    <div class="variable-example">Example: <span class="example-value">1</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">MaxLeafNumber</span>
                    <span class="variable-description">Maximum number of leaves</span>
                    <div class="variable-example">Example: <span class="example-value">15</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">Max_Blade_Length_m</span>
                    <span class="variable-description">Maximum leaf blade length (m)</span>
                    <div class="variable-example">Example: <span class="example-value">2.3</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">Max_Rachis_Length_m</span>
                    <span class="variable-description">Maximum rachis length (m)</span>
                    <div class="variable-example">Example: <span class="example-value">3</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">Max_Petiole_length_m</span>
                    <span class="variable-description">Maximum petiole length (m)</span>
                    <div class="variable-example">Example: <span class="example-value">0.65</span></div>
                </div>
            </div>
        </div>

        <!-- Fruit Characteristics Group -->
        <div class="variable-group" [class.expanded]="expandedGroups.fruits">
            <div class="group-header" (click)="toggleGroup('fruits', $event)">
                <div class="header-icon">
                    <div class="icon-wrapper">
                        <img src="assets/icons/fruit.png" alt="Fruits" class="custom-icon">
                    </div>
                </div>
                <h3>Fruit Characteristics</h3>
                <div class="expand-icon">
                    <div class="icon-wrapper">
                        <img src="assets/icons/expand.png" alt="Expand" class="custom-icon">
                    </div>
                </div>
            </div>
            <div class="variables-list" *ngIf="expandedGroups.fruits">
                <div class="variable-item">
                    <span class="variable-name">AverageFruitLength_cm</span>
                    <span class="variable-description">Average fruit length (cm)</span>
                    <div class="variable-example">Example: <span class="example-value">0.65</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">MinFruitLength_cm</span>
                    <span class="variable-description">Minimum fruit length (cm)</span>
                    <div class="variable-example">Example: <span class="example-value">0.6</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">MaxFruitLength_cm</span>
                    <span class="variable-description">Maximum fruit length (cm)</span>
                    <div class="variable-example">Example: <span class="example-value">0.7</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">AverageFruitWidth_cm</span>
                    <span class="variable-description">Average fruit width (cm)</span>
                    <div class="variable-example">Example: <span class="example-value">0.5</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">MinFruitWidth_cm</span>
                    <span class="variable-description">Minimum fruit width (cm)</span>
                    <div class="variable-example">Example: <span class="example-value">0.5</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">MaxFruitWidth_cm</span>
                    <span class="variable-description">Maximum fruit width (cm)</span>
                    <div class="variable-example">Example: <span class="example-value">0.9</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">FruitSizeCategorical</span>
                    <span class="variable-description">Categorical fruit size (small/medium/large)</span>
                    <div class="variable-example">Example: <span class="example-value">small</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">FruitShape</span>
                    <span class="variable-description">Fruit shape description</span>
                    <div class="variable-example">Example: <span class="example-value">ovoid</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">FruitColorDescription</span>
                    <span class="variable-description">Detailed description of fruit colors</span>
                    <div class="variable-example">Example: <span class="example-value">black</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">MainFruitColors</span>
                    <span class="variable-description">Dominant colors of ripe fruit</span>
                    <div class="variable-example">Example: <span class="example-value">black</span></div>
                </div>
                <div class="variable-item">
                    <span class="variable-name">Conspicuousness</span>
                    <span class="variable-description">How visible the fruit is (cryptic/conspicuous)</span>
                    <div class="variable-example">Example: <span class="example-value">cryptic</span></div>
                </div>
            </div>
        </div>
    </div>

    <div class="dataset-stats">
        <div class="stats-card">
            <div class="stat-icon">
                <div class="icon-wrapper">
                    <img src="assets/icons/weight.png" alt="Records" class="custom-icon">
                </div>
            </div>
            <div class="stat-content">
                <h4>Dataset Size</h4>
                <div class="stat-value">2,557 Species Records</div>
                <p class="stat-details">Complete morphological data for over 2,500 palm species</p>
            </div>
        </div>

        <div class="stats-card">
            <div class="stat-icon">
                <div class="icon-wrapper">
                    <img src="assets/icons/chart.png" alt="Variables" class="custom-icon">
                </div>
            </div>
            <div class="stat-content">
                <h4>Data Variables</h4>
                <div class="stat-value">45+ Variables</div>
                <p class="stat-details">Covering taxonomy, morphology, geography, and fruit characteristics</p>
            </div>
        </div>

        <div class="stats-card">
            <div class="stat-icon">
                <div class="icon-wrapper">
                    <img src="assets/icons/geography.png" alt="Coverage" class="custom-icon">
                </div>
            </div>
            <div class="stat-content">
                <h4>Geographic Coverage</h4>
                <div class="stat-value">120+ Countries</div>
                <p class="stat-details">Global distribution across tropical and subtropical regions</p>
            </div>
        </div>
    </div>

    <div class="api-sources">
        <h3>Additional Data Sources</h3>
        <div class="api-cards">
            <div class="api-card">
                <div class="api-logo">
                    <img src="assets/icons/apis/gbif.png" alt="GBIF Logo" class="api-logo-image">
                </div>
                <div class="api-info">
                    <h4>GBIF</h4>
                    <p>Global Biodiversity Information Facility</p>
                    <span class="data-count">+1.8M observations</span>
                </div>
            </div>

            <div class="api-card">
                <div class="api-logo">
                    <img src="assets/icons/apis/inaturalist.jpg" alt="iNaturalist Logo" class="api-logo-image">
                </div>
                <div class="api-info">
                    <h4>iNaturalist</h4>
                    <p>Citizen science observation platform</p>
                    <span class="data-count">+250K observations</span>
                </div>
            </div>

            <div class="api-card">
                <div class="api-logo">
                    <img src="assets/icons/apis/powo.png" alt="POWO Logo" class="api-logo-image">
                </div>
                <div class="api-info">
                    <h4>POWO</h4>
                    <p>Plants of the World Online (Kew Gardens)</p>
                    <span class="data-count">Official taxonomy</span>
                </div>
            </div>

            <div class="api-card">
                <div class="api-logo">
                    <img src="assets/icons/apis/wikimedia-commons.png" alt="Wikimedia Commons Logo"
                        class="api-logo-image">
                </div>
                <div class="api-info">
                    <h4>Wikimedia Commons</h4>
                    <p>Free media repository with CC-licensed palm images</p>
                    <span class="data-count">+95M free media files</span>
                </div>
            </div>
        </div>
    </div>

    <div class="data-usage">
        <h3>
            <div class="header-icon">
                <div class="icon-wrapper">
                    <img src="assets/icons/book.png" alt="Data Usage" class="custom-icon">
                </div>
            </div>
            Data Usage
        </h3>
        <div class="usage-info">
            <p>
                This compiled dataset is made available for scientific research, education, and
                conservation. Users are encouraged to cite the original data sources
                when using them in their work.
            </p>
            <div class="citation-box">
                <h4>
                    <div class="citation-icon">
                        <div class="icon-wrapper">
                            <img src="assets/icons/quote.png" alt="Citation" class="custom-icon">
                        </div>
                    </div>
                    Suggested citation:
                </h4>
                <p class="citation">
                    Palma-1.0: A global database of palm functional traits, based on PalmTraits 1.0 and enhanced with
                    GBIF, iNaturalist, Wikimedia Commons and POWO data (2025). Encyclopedia of Palms Project. Available at: <a href="https://huggingface.co/datasets/kitsuiwebster/Palma-1.0" target="_blank" rel="noopener noreferrer">https://huggingface.co/datasets/kitsuiwebster/Palma-1.0</a>
                </p>
                <button class="btn-outline btn-sm copy-btn">
                    <div class="icon-wrapper">
                        <img src="assets/icons/cp.png" alt="Copy" class="custom-icon">
                    </div>
                    Copy
                </button>
            </div>
        </div>
    </div>
</div>