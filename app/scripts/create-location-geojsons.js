#!/usr/bin/env node

const fs = require('fs');
const path = require('path');

/**
 * Script pour créer un GeoJSON spécifique pour chaque location du CSV
 */

const LOCATION_CSV = path.join(__dirname, '../src/assets/data/location.csv');
const LOCATIONS_DIR = path.join(__dirname, '../src/assets/data/locations');

// Coordonnées géographiques approximatives pour chaque zone du CSV
const LOCATION_COORDINATES = {
  'AFG': { name: 'Afghanistan', coords: [[60, 29], [75, 29], [75, 39], [60, 39], [60, 29]] },
  'AGE': { name: 'Argentina East', coords: [[-65, -40], [-54, -40], [-54, -22], [-65, -22], [-65, -40]] },
  'AGW': { name: 'Argentina West', coords: [[-73, -40], [-65, -40], [-65, -22], [-73, -22], [-73, -40]] },
  'ALA': { name: 'Alabama', coords: [[-88.5, 30.2], [-84.9, 30.2], [-84.9, 35.0], [-88.5, 35.0], [-88.5, 30.2]] },
  'ALG': { name: 'Algeria', coords: [[-8.7, 19.0], [12.0, 19.0], [12.0, 37.1], [-8.7, 37.1], [-8.7, 19.0]] },
  'AND': { name: 'Andaman Islands', coords: [[92.2, 6.7], [94.3, 6.7], [94.3, 13.7], [92.2, 13.7], [92.2, 6.7]] },
  'ANG': { name: 'Angola', coords: [[11.7, -18.0], [24.1, -18.0], [24.1, -4.4], [11.7, -4.4], [11.7, -18.0]] },
  'ARI': { name: 'Arizona', coords: [[-114.8, 31.3], [-109.0, 31.3], [-109.0, 37.0], [-114.8, 37.0], [-114.8, 31.3]] },
  'ARK': { name: 'Arkansas', coords: [[-94.6, 33.0], [-89.6, 33.0], [-89.6, 36.5], [-94.6, 36.5], [-94.6, 33.0]] },
  'ASS': { name: 'Assam', coords: [[89.7, 24.1], [96.0, 24.1], [96.0, 28.2], [89.7, 28.2], [89.7, 24.1]] },
  'BAH': { name: 'Bahamas', coords: [[-80.5, 20.9], [-72.7, 20.9], [-72.7, 27.3], [-80.5, 27.3], [-80.5, 20.9]] },
  'BAL': { name: 'Balearic Islands', coords: [[1.1, 38.6], [4.3, 38.6], [4.3, 40.1], [1.1, 40.1], [1.1, 38.6]] },
  'BAN': { name: 'Bangladesh', coords: [[88.0, 20.7], [92.7, 20.7], [92.7, 26.6], [88.0, 26.6], [88.0, 20.7]] },
  'BEN': { name: 'Benin', coords: [[0.8, 6.2], [3.9, 6.2], [3.9, 12.4], [0.8, 12.4], [0.8, 6.2]] },
  'BER': { name: 'Bermuda', coords: [[-64.9, 32.2], [-64.6, 32.2], [-64.6, 32.4], [-64.9, 32.4], [-64.9, 32.2]] },
  'BIS': { name: 'Guinea-Bissau', coords: [[-16.7, 10.9], [-13.6, 10.9], [-13.6, 12.7], [-16.7, 12.7], [-16.7, 10.9]] },
  'BKN': { name: 'Brunei', coords: [[114.0, 4.0], [115.4, 4.0], [115.4, 5.1], [114.0, 5.1], [114.0, 4.0]] },
  'BLZ': { name: 'Belize', coords: [[-89.2, 15.9], [-87.8, 15.9], [-87.8, 18.5], [-89.2, 18.5], [-89.2, 15.9]] },
  'BOL': { name: 'Bolivia', coords: [[-69.6, -22.9], [-57.5, -22.9], [-57.5, -9.7], [-69.6, -9.7], [-69.6, -22.9]] },
  'BOR': { name: 'Borneo', coords: [[109.0, -4.0], [119.3, -4.0], [119.3, 7.4], [109.0, 7.4], [109.0, -4.0]] },
  'BOT': { name: 'Botswana', coords: [[20.0, -26.9], [29.4, -26.9], [29.4, -17.8], [20.0, -17.8], [20.0, -26.9]] },
  'BRA': { name: 'Brazil', coords: [[-74.0, -33.8], [-28.8, -33.8], [-28.8, 5.3], [-74.0, 5.3], [-74.0, -33.8]] },
  'BUR': { name: 'Myanmar', coords: [[92.2, 9.8], [101.2, 9.8], [101.2, 28.5], [92.2, 28.5], [92.2, 9.8]] },
  'BZC': { name: 'Brazil Central', coords: [[-60, -20], [-45, -20], [-45, -10], [-60, -10], [-60, -20]] },
  'BZE': { name: 'Brazil East', coords: [[-45, -25], [-34, -25], [-34, -5], [-45, -5], [-45, -25]] },
  'BZL': { name: 'Brazil', coords: [[-74.0, -33.8], [-28.8, -33.8], [-28.8, 5.3], [-74.0, 5.3], [-74.0, -33.8]] },
  'BZN': { name: 'Brazil North', coords: [[-70, 0], [-50, 0], [-50, 5], [-70, 5], [-70, 0]] },
  'BZS': { name: 'Brazil South', coords: [[-60, -35], [-48, -35], [-48, -25], [-60, -25], [-60, -35]] },
  'CAB': { name: 'Cabinda', coords: [[12.0, -6.0], [12.7, -6.0], [12.7, -4.4], [12.0, -4.4], [12.0, -6.0]] },
  'CAF': { name: 'Central African Republic', coords: [[14.4, 2.2], [27.5, 2.2], [27.5, 11.0], [14.4, 11.0], [14.4, 2.2]] },
  'CAL': { name: 'California', coords: [[-124.4, 32.5], [-114.1, 32.5], [-114.1, 42.0], [-124.4, 42.0], [-124.4, 32.5]] },
  'CAM': { name: 'Cambodia', coords: [[102.3, 10.4], [107.6, 10.4], [107.6, 14.7], [102.3, 14.7], [102.3, 10.4]] },
  'CAN': { name: 'Canada', coords: [[-141.0, 41.7], [-52.6, 41.7], [-52.6, 83.1], [-141.0, 83.1], [-141.0, 41.7]] },
  'CAR': { name: 'Caribbean', coords: [[-85, 10], [-60, 10], [-60, 25], [-85, 25], [-85, 10]] },
  'CAS': { name: 'Australia Cassowary Coast', coords: [[145.5, -18.5], [146.5, -18.5], [146.5, -17.5], [145.5, -17.5], [145.5, -18.5]] },
  'CAY': { name: 'Cayman Islands', coords: [[-81.4, 19.3], [-79.7, 19.3], [-79.7, 19.8], [-81.4, 19.8], [-81.4, 19.3]] },
  'CBD': { name: 'Cambodia', coords: [[102.3, 10.4], [107.6, 10.4], [107.6, 14.7], [102.3, 14.7], [102.3, 10.4]] },
  'CEL': { name: 'Celebes/Sulawesi', coords: [[119.3, -5.5], [125.1, -5.5], [125.1, 1.8], [119.3, 1.8], [119.3, -5.5]] },
  'CHA': { name: 'Chad', coords: [[13.5, 7.4], [24.0, 7.4], [24.0, 23.5], [13.5, 23.5], [13.5, 7.4]] },
  'CHC': { name: 'Chile Central', coords: [[-73, -36], [-70, -36], [-70, -32], [-73, -32], [-73, -36]] },
  'CHH': { name: 'China', coords: [[73.7, 18.2], [135.1, 18.2], [135.1, 53.6], [73.7, 53.6], [73.7, 18.2]] },
  'CHI': { name: 'Chile', coords: [[-75.6, -56.0], [-66.4, -56.0], [-66.4, -17.5], [-75.6, -17.5], [-75.6, -56.0]] },
  'CHN': { name: 'China North', coords: [[100, 35], [135, 35], [135, 50], [100, 50], [100, 35]] },
  'CHS': { name: 'China South', coords: [[100, 18], [135, 18], [135, 35], [100, 35], [100, 18]] },
  'CHT': { name: 'Chile', coords: [[-75.6, -56.0], [-66.4, -56.0], [-66.4, -17.5], [-75.6, -17.5], [-75.6, -56.0]] },
  'CLC': { name: 'Colombia Central', coords: [[-76, 2], [-72, 2], [-72, 6], [-76, 6], [-76, 2]] },
  'CLM': { name: 'Colombia', coords: [[-79.0, -4.2], [-66.9, -4.2], [-66.9, 12.6], [-79.0, 12.6], [-79.0, -4.2]] },
  'CMN': { name: 'Cameroon', coords: [[8.5, 1.7], [16.2, 1.7], [16.2, 13.1], [8.5, 13.1], [8.5, 1.7]] },
  'CNY': { name: 'Canada', coords: [[-141.0, 41.7], [-52.6, 41.7], [-52.6, 83.1], [-141.0, 83.1], [-141.0, 41.7]] },
  'COL': { name: 'Colombia', coords: [[-79.0, -4.2], [-66.9, -4.2], [-66.9, 12.6], [-79.0, 12.6], [-79.0, -4.2]] },
  'COM': { name: 'Comoros', coords: [[43.2, -12.4], [44.5, -12.4], [44.5, -11.4], [43.2, -11.4], [43.2, -12.4]] },
  'CON': { name: 'Democratic Republic Congo', coords: [[12.2, -13.5], [31.2, -13.5], [31.2, 5.4], [12.2, 5.4], [12.2, -13.5]] },
  'COO': { name: 'Cook Islands', coords: [[-166, -22], [-157, -22], [-157, -8], [-166, -8], [-166, -22]] },
  'COR': { name: 'Costa Rica', coords: [[-85.9, 8.0], [-82.6, 8.0], [-82.6, 11.2], [-85.9, 11.2], [-85.9, 8.0]] },
  'COS': { name: 'Costa Rica', coords: [[-85.9, 8.0], [-82.6, 8.0], [-82.6, 11.2], [-85.9, 11.2], [-85.9, 8.0]] },
  'CPI': { name: 'Colombia Pacific', coords: [[-79, 1], [-77, 1], [-77, 7], [-79, 7], [-79, 1]] },
  'CPP': { name: 'Chile Pacific', coords: [[-75, -45], [-73, -45], [-73, -35], [-75, -35], [-75, -45]] },
  'CPV': { name: 'Cape Verde', coords: [[-25.4, 14.8], [-22.7, 14.8], [-22.7, 17.2], [-25.4, 17.2], [-25.4, 14.8]] },
  'CRL': { name: 'Colombia', coords: [[-79.0, -4.2], [-66.9, -4.2], [-66.9, 12.6], [-79.0, 12.6], [-79.0, -4.2]] },
  'CTC': { name: 'Australia Central', coords: [[130, -30], [140, -30], [140, -20], [130, -20], [130, -30]] },
  'CTM': { name: 'Guatemala Central', coords: [[-91, 14], [-89, 14], [-89, 16], [-91, 16], [-91, 14]] },
  'CUB': { name: 'Cuba', coords: [[-84.9, 19.8], [-74.1, 19.8], [-74.1, 23.3], [-84.9, 23.3], [-84.9, 19.8]] },
  'CVI': { name: 'Cape Verde Islands', coords: [[-25.4, 14.8], [-22.7, 14.8], [-22.7, 17.2], [-25.4, 17.2], [-25.4, 14.8]] },
  'DJI': { name: 'Djibouti', coords: [[41.8, 10.9], [43.4, 10.9], [43.4, 12.7], [41.8, 12.7], [41.8, 10.9]] },
  'DOM': { name: 'Dominican Republic', coords: [[-72.0, 17.5], [-68.3, 17.5], [-68.3, 19.9], [-72.0, 19.9], [-72.0, 17.5]] },
  'EAI': { name: 'Ecuador', coords: [[-81.1, -5.0], [-75.2, -5.0], [-75.2, 1.7], [-81.1, 1.7], [-81.1, -5.0]] },
  'ECU': { name: 'Ecuador', coords: [[-81.1, -5.0], [-75.2, -5.0], [-75.2, 1.7], [-81.1, 1.7], [-81.1, -5.0]] },
  'EGY': { name: 'Egypt', coords: [[25.0, 22.0], [36.9, 22.0], [36.9, 31.7], [25.0, 31.7], [25.0, 22.0]] },
  'EHM': { name: 'Bahamas Eleuthera', coords: [[-76.5, 24.5], [-76, 24.5], [-76, 25.5], [-76.5, 25.5], [-76.5, 24.5]] },
  'ELS': { name: 'El Salvador', coords: [[-90.1, 13.1], [-87.7, 13.1], [-87.7, 14.4], [-90.1, 14.4], [-90.1, 13.1]] },
  'EQG': { name: 'Equatorial Guinea', coords: [[9.3, 0.9], [11.3, 0.9], [11.3, 2.3], [9.3, 2.3], [9.3, 0.9]] },
  'ERI': { name: 'Eritrea', coords: [[36.4, 12.4], [43.1, 12.4], [43.1, 18.0], [36.4, 18.0], [36.4, 12.4]] },
  'ESA': { name: 'El Salvador', coords: [[-90.1, 13.1], [-87.7, 13.1], [-87.7, 14.4], [-90.1, 14.4], [-90.1, 13.1]] },
  'ETH': { name: 'Ethiopia', coords: [[33.0, 3.4], [48.0, 3.4], [48.0, 14.9], [33.0, 14.9], [33.0, 3.4]] },
  'FIJ': { name: 'Fiji', coords: [[-180, -20], [180, -20], [180, -12], [-180, -12], [-180, -20]] },
  'FLA': { name: 'Florida', coords: [[-87.6, 24.5], [-80.0, 24.5], [-80.0, 31.0], [-87.6, 31.0], [-87.6, 24.5]] },
  'FOR': { name: 'Taiwan', coords: [[120.1, 21.9], [122.0, 21.9], [122.0, 25.3], [120.1, 25.3], [120.1, 21.9]] },
  'FRA': { name: 'France', coords: [[-5.1, 41.3], [9.6, 41.3], [9.6, 51.1], [-5.1, 51.1], [-5.1, 41.3]] },
  'FRG': { name: 'French Guiana', coords: [[-54.6, 2.1], [-51.6, 2.1], [-51.6, 5.8], [-54.6, 5.8], [-54.6, 2.1]] },
  'GAB': { name: 'Gabon', coords: [[8.7, -4.0], [14.5, -4.0], [14.5, 2.3], [8.7, 2.3], [8.7, -4.0]] },
  'GAM': { name: 'Gambia', coords: [[-16.8, 13.1], [-13.8, 13.1], [-13.8, 13.8], [-16.8, 13.8], [-16.8, 13.1]] },
  'GEO': { name: 'Georgia', coords: [[39.9, 41.1], [46.7, 41.1], [46.7, 43.6], [39.9, 43.6], [39.9, 41.1]] },
  'GGI': { name: 'Georgia', coords: [[39.9, 41.1], [46.7, 41.1], [46.7, 43.6], [39.9, 43.6], [39.9, 41.1]] },
  'GHA': { name: 'Ghana', coords: [[-3.3, 4.7], [1.2, 4.7], [1.2, 11.2], [-3.3, 11.2], [-3.3, 4.7]] },
  'GNB': { name: 'Guinea-Bissau', coords: [[-16.7, 10.9], [-13.6, 10.9], [-13.6, 12.7], [-16.7, 12.7], [-16.7, 10.9]] },
  'GST': { name: 'Georgia USA', coords: [[-85.6, 30.4], [-80.8, 30.4], [-80.8, 35.0], [-85.6, 35.0], [-85.6, 30.4]] },
  'GUA': { name: 'Guatemala', coords: [[-92.2, 13.7], [-88.2, 13.7], [-88.2, 17.8], [-92.2, 17.8], [-92.2, 13.7]] },
  'GUF': { name: 'French Guiana', coords: [[-54.6, 2.1], [-51.6, 2.1], [-51.6, 5.8], [-54.6, 5.8], [-54.6, 2.1]] },
  'GUI': { name: 'Guinea', coords: [[-15.1, 7.3], [-7.6, 7.3], [-7.6, 12.7], [-15.1, 12.7], [-15.1, 7.3]] },
  'GUY': { name: 'Guyana', coords: [[-61.4, 1.2], [-56.5, 1.2], [-56.5, 8.6], [-61.4, 8.6], [-61.4, 1.2]] },
  'HAI': { name: 'Haiti', coords: [[-74.5, 18.0], [-71.6, 18.0], [-71.6, 20.1], [-74.5, 20.1], [-74.5, 18.0]] },
  'HAW': { name: 'Hawaii', coords: [[-178.3, 18.9], [-154.8, 18.9], [-154.8, 22.2], [-178.3, 22.2], [-178.3, 18.9]] },
  'HON': { name: 'Honduras', coords: [[-89.4, 12.9], [-83.1, 12.9], [-83.1, 16.5], [-89.4, 16.5], [-89.4, 12.9]] },
  'IND': { name: 'India', coords: [[68.1, 6.7], [97.4, 6.7], [97.4, 37.1], [68.1, 37.1], [68.1, 6.7]] },
  'IRN': { name: 'Iran', coords: [[44.0, 25.1], [63.3, 25.1], [63.3, 39.8], [44.0, 39.8], [44.0, 25.1]] },
  'IRQ': { name: 'Iraq', coords: [[38.8, 29.1], [48.6, 29.1], [48.6, 37.4], [38.8, 37.4], [38.8, 29.1]] },
  'ITA': { name: 'Italy', coords: [[6.6, 35.5], [18.5, 35.5], [18.5, 47.1], [6.6, 47.1], [6.6, 35.5]] },
  'IVO': { name: 'Ivory Coast', coords: [[-8.6, 4.3], [-2.5, 4.3], [-2.5, 10.7], [-8.6, 10.7], [-8.6, 4.3]] },
  'JAM': { name: 'Jamaica', coords: [[-78.4, 17.7], [-76.2, 17.7], [-76.2, 18.5], [-78.4, 18.5], [-78.4, 17.7]] },
  'JAP': { name: 'Japan', coords: [[129.4, 31.0], [145.8, 31.0], [145.8, 45.6], [129.4, 45.6], [129.4, 31.0]] },
  'JAV': { name: 'Java', coords: [[105.2, -8.8], [114.6, -8.8], [114.6, -5.9], [105.2, -5.9], [105.2, -8.8]] },
  'JAW': { name: 'Java West', coords: [[105.2, -7.8], [108.5, -7.8], [108.5, -5.9], [105.2, -5.9], [105.2, -7.8]] },
  'JNF': { name: 'Brazil Janua', coords: [[-55, -15], [-50, -15], [-50, -10], [-55, -10], [-55, -15]] },
  'KEN': { name: 'Kenya', coords: [[33.9, -4.7], [41.9, -4.7], [41.9, 5.5], [33.9, 5.5], [33.9, -4.7]] },
  'KER': { name: 'Kerguelen Islands', coords: [[68.7, -49.8], [70.6, -49.8], [70.6, -48.6], [68.7, -48.6], [68.7, -49.8]] },
  'KRI': { name: 'Kiribati', coords: [[-174, -5], [175, -5], [175, 5], [-174, 5], [-174, -5]] },
  'LAO': { name: 'Laos', coords: [[100.1, 13.9], [107.7, 13.9], [107.7, 22.5], [100.1, 22.5], [100.1, 13.9]] },
  'LBR': { name: 'Liberia', coords: [[-11.5, 4.3], [-7.4, 4.3], [-7.4, 8.6], [-11.5, 8.6], [-11.5, 4.3]] },
  'LBY': { name: 'Libya', coords: [[9.3, 19.5], [25.2, 19.5], [25.2, 33.2], [9.3, 33.2], [9.3, 19.5]] },
  'LEE': { name: 'US Virgin Islands', coords: [[-65.1, 17.6], [-64.6, 17.6], [-64.6, 18.4], [-65.1, 18.4], [-65.1, 17.6]] },
  'LOU': { name: 'Louisiana', coords: [[-94.0, 28.9], [-89.0, 28.9], [-89.0, 33.0], [-94.0, 33.0], [-94.0, 28.9]] },
  'LSI': { name: 'Saint Lucia', coords: [[-61.1, 13.7], [-60.9, 13.7], [-60.9, 14.1], [-61.1, 14.1], [-61.1, 13.7]] },
  'MAD': { name: 'Madagascar', coords: [[43.2, -25.6], [50.5, -25.6], [50.5, -11.9], [43.2, -11.9], [43.2, -25.6]] },
  'MAL': { name: 'Malaysia', coords: [[99.6, 0.9], [119.3, 0.9], [119.3, 7.4], [99.6, 7.4], [99.6, 0.9]] },
  'MAU': { name: 'Mauritania', coords: [[-17.1, 14.7], [-4.8, 14.7], [-4.8, 27.3], [-17.1, 27.3], [-17.1, 14.7]] },
  'MCI': { name: 'Mexico Central', coords: [[-102, 19], [-97, 19], [-97, 23], [-102, 23], [-102, 19]] },
  'MDG': { name: 'Madagascar', coords: [[43.2, -25.6], [50.5, -25.6], [50.5, -11.9], [43.2, -11.9], [43.2, -25.6]] },
  'MEX': { name: 'Mexico', coords: [[-117.1, 14.5], [-86.7, 14.5], [-86.7, 32.7], [-117.1, 32.7], [-117.1, 14.5]] },
  'MLI': { name: 'Mali', coords: [[-12.2, 10.1], [4.3, 10.1], [4.3, 25.0], [-12.2, 25.0], [-12.2, 10.1]] },
  'MLW': { name: 'Malawi', coords: [[32.7, -17.1], [35.9, -17.1], [35.9, -9.4], [32.7, -9.4], [32.7, -17.1]] },
  'MLY': { name: 'Malaysia', coords: [[99.6, 0.9], [119.3, 0.9], [119.3, 7.4], [99.6, 7.4], [99.6, 0.9]] },
  'MOL': { name: 'Moluccas', coords: [[124.0, -8.5], [131.0, -8.5], [131.0, 2.0], [124.0, 2.0], [124.0, -8.5]] },
  'MOR': { name: 'Morocco', coords: [[-17.0, 21.4], [-1.0, 21.4], [-1.0, 35.9], [-17.0, 35.9], [-17.0, 21.4]] },
  'MOZ': { name: 'Mozambique', coords: [[30.2, -26.9], [40.8, -26.9], [40.8, -10.5], [30.2, -10.5], [30.2, -26.9]] },
  'MRN': { name: 'Martinique', coords: [[-61.2, 14.4], [-60.8, 14.4], [-60.8, 14.9], [-61.2, 14.9], [-61.2, 14.4]] },
  'MRQ': { name: 'Martinique', coords: [[-61.2, 14.4], [-60.8, 14.4], [-60.8, 14.9], [-61.2, 14.9], [-61.2, 14.4]] },
  'MSI': { name: 'Mississippi', coords: [[-91.7, 30.2], [-88.1, 30.2], [-88.1, 35.0], [-91.7, 35.0], [-91.7, 30.2]] },
  'MTN': { name: 'Mauritania', coords: [[-17.1, 14.7], [-4.8, 14.7], [-4.8, 27.3], [-17.1, 27.3], [-17.1, 14.7]] },
  'MXC': { name: 'Mexico Central', coords: [[-102, 19], [-97, 19], [-97, 23], [-102, 23], [-102, 19]] },
  'MXE': { name: 'Mexico East', coords: [[-97, 14], [-86, 14], [-86, 26], [-97, 26], [-97, 14]] },
  'MXG': { name: 'Mexico Gulf', coords: [[-98, 18], [-94, 18], [-94, 26], [-98, 26], [-98, 18]] },
  'MXI': { name: 'Mexico', coords: [[-117.1, 14.5], [-86.7, 14.5], [-86.7, 32.7], [-117.1, 32.7], [-117.1, 14.5]] },
  'MXN': { name: 'Mexico North', coords: [[-117, 24], [-100, 24], [-100, 33], [-117, 33], [-117, 24]] },
  'MXS': { name: 'Mexico South', coords: [[-118, 14], [-90, 14], [-90, 24], [-118, 24], [-118, 14]] },
  'MXT': { name: 'Mexico', coords: [[-117.1, 14.5], [-86.7, 14.5], [-86.7, 32.7], [-117.1, 32.7], [-117.1, 14.5]] },
  'MYA': { name: 'Myanmar', coords: [[92.2, 9.8], [101.2, 9.8], [101.2, 28.5], [92.2, 28.5], [92.2, 9.8]] },
  'NAM': { name: 'Namibia', coords: [[11.7, -29.0], [25.3, -29.0], [25.3, -16.9], [11.7, -16.9], [11.7, -29.0]] },
  'NAN': { name: 'Vanuatu', coords: [[166.5, -20.2], [170.2, -20.2], [170.2, -13.1], [166.5, -13.1], [166.5, -20.2]] },
  'NAT': { name: 'Brazil Natal', coords: [[-36, -6], [-34, -6], [-34, -4], [-36, -4], [-36, -6]] },
  'NCA': { name: 'New Caledonia', coords: [[164.0, -22.7], [167.1, -22.7], [167.1, -19.5], [164.0, -19.5], [164.0, -22.7]] },
  'NCB': { name: 'New Caledonia', coords: [[164.0, -22.7], [167.1, -22.7], [167.1, -19.5], [164.0, -19.5], [164.0, -22.7]] },
  'NCL': { name: 'New Caledonia', coords: [[164.0, -22.7], [167.1, -22.7], [167.1, -19.5], [164.0, -19.5], [164.0, -22.7]] },
  'NEP': { name: 'Nepal', coords: [[80.1, 26.3], [88.2, 26.3], [88.2, 30.4], [80.1, 30.4], [80.1, 26.3]] },
  'NFK': { name: 'Norfolk Island', coords: [[167.9, -29.1], [168.0, -29.1], [168.0, -29.0], [167.9, -29.0], [167.9, -29.1]] },
  'NGA': { name: 'Nigeria', coords: [[2.7, 4.3], [14.7, 4.3], [14.7, 13.9], [2.7, 13.9], [2.7, 4.3]] },
  'NGR': { name: 'Nigeria', coords: [[2.7, 4.3], [14.7, 4.3], [14.7, 13.9], [2.7, 13.9], [2.7, 4.3]] },
  'NGU': { name: 'Papua New Guinea', coords: [[140.8, -11.7], [159.0, -11.7], [159.0, -0.4], [140.8, -0.4], [140.8, -11.7]] },
  'NIC': { name: 'Nicaragua', coords: [[-87.7, 10.7], [-82.7, 10.7], [-82.7, 15.0], [-87.7, 15.0], [-87.7, 10.7]] },
  'NIG': { name: 'Niger', coords: [[0.2, 11.7], [16.0, 11.7], [16.0, 23.5], [0.2, 23.5], [0.2, 11.7]] },
  'NNS': { name: 'Saint Kitts and Nevis', coords: [[-62.9, 17.1], [-62.5, 17.1], [-62.5, 17.4], [-62.9, 17.4], [-62.9, 17.1]] },
  'NSW': { name: 'New South Wales', coords: [[141.0, -37.5], [153.6, -37.5], [153.6, -28.2], [141.0, -28.2], [141.0, -37.5]] },
  'NTA': { name: 'Northern Territory', coords: [[129.0, -26.0], [138.0, -26.0], [138.0, -10.9], [129.0, -10.9], [129.0, -26.0]] },
  'NWC': { name: 'Northwest Australia', coords: [[112, -26], [129, -26], [129, -13], [112, -13], [112, -26]] },
  'NWG': { name: 'Northern Australia', coords: [[129, -20], [143, -20], [143, -10], [129, -10], [129, -20]] },
  'NZN': { name: 'New Zealand North', coords: [[166.4, -34.4], [178.6, -34.4], [178.6, -34.4], [166.4, -34.4], [166.4, -34.4]] },
  'NZS': { name: 'New Zealand South', coords: [[166.4, -47.3], [178.6, -47.3], [178.6, -40.5], [166.4, -40.5], [166.4, -47.3]] },
  'OGA': { name: 'Georgia USA', coords: [[-85.6, 30.4], [-80.8, 30.4], [-80.8, 35.0], [-85.6, 35.0], [-85.6, 30.4]] },
  'OKL': { name: 'Oklahoma', coords: [[-103.0, 33.6], [-94.4, 33.6], [-94.4, 37.0], [-103.0, 37.0], [-103.0, 33.6]] },
  'OMA': { name: 'Oklahoma', coords: [[-103.0, 33.6], [-94.4, 33.6], [-94.4, 37.0], [-103.0, 37.0], [-103.0, 33.6]] },
  'PAK': { name: 'Pakistan', coords: [[60.9, 23.7], [77.8, 23.7], [77.8, 37.1], [60.9, 37.1], [60.9, 23.7]] },
  'PAL': { name: 'Palau', coords: [[134.1, 2.9], [134.7, 2.9], [134.7, 8.1], [134.1, 8.1], [134.1, 2.9]] },
  'PAN': { name: 'Panama', coords: [[-83.1, 7.2], [-77.2, 7.2], [-77.2, 9.6], [-83.1, 9.6], [-83.1, 7.2]] },
  'PAR': { name: 'Paraguay', coords: [[-62.6, -27.6], [-54.3, -27.6], [-54.3, -19.3], [-62.6, -19.3], [-62.6, -27.6]] },
  'PER': { name: 'Peru', coords: [[-81.3, -18.4], [-68.7, -18.4], [-68.7, 0.0], [-81.3, 0.0], [-81.3, -18.4]] },
  'PHI': { name: 'Philippines', coords: [[116.9, 4.6], [126.6, 4.6], [126.6, 21.1], [116.9, 21.1], [116.9, 4.6]] },
  'POR': { name: 'Portugal', coords: [[-9.5, 36.8], [-6.2, 36.8], [-6.2, 42.2], [-9.5, 42.2], [-9.5, 36.8]] },
  'PRI': { name: 'Puerto Rico', coords: [[-67.9, 17.9], [-65.2, 17.9], [-65.2, 18.5], [-67.9, 18.5], [-67.9, 17.9]] },
  'PUE': { name: 'Puerto Rico', coords: [[-67.9, 17.9], [-65.2, 17.9], [-65.2, 18.5], [-67.9, 18.5], [-67.9, 17.9]] },
  'QLD': { name: 'Queensland', coords: [[138.0, -29.0], [153.6, -29.0], [153.6, -10.4], [138.0, -10.4], [138.0, -29.0]] },
  'QUE': { name: 'Queensland', coords: [[138.0, -29.0], [153.6, -29.0], [153.6, -10.4], [138.0, -10.4], [138.0, -29.0]] },
  'REU': { name: 'Réunion', coords: [[55.2, -21.4], [55.8, -21.4], [55.8, -20.9], [55.2, -20.9], [55.2, -21.4]] },
  'ROD': { name: 'Rodrigues', coords: [[63.4, -19.7], [63.5, -19.7], [63.5, -19.6], [63.4, -19.6], [63.4, -19.7]] },
  'RWA': { name: 'Rwanda', coords: [[28.9, -2.8], [30.9, -2.8], [30.9, -1.0], [28.9, -1.0], [28.9, -2.8]] },
  'SAM': { name: 'Samoa', coords: [[-172.8, -14.1], [-171.4, -14.1], [-171.4, -13.4], [-172.8, -13.4], [-172.8, -14.1]] },
  'SAR': { name: 'Sarawak', coords: [[109.6, 0.9], [115.4, 0.9], [115.4, 5.1], [109.6, 5.1], [109.6, 0.9]] },
  'SAU': { name: 'Saudi Arabia', coords: [[34.5, 16.4], [55.7, 16.4], [55.7, 32.2], [34.5, 32.2], [34.5, 16.4]] },
  'SCA': { name: 'South Carolina', coords: [[-83.4, 32.0], [-78.5, 32.0], [-78.5, 35.2], [-83.4, 35.2], [-83.4, 32.0]] },
  'SCZ': { name: 'Seychelles', coords: [[46.2, -10.2], [56.3, -10.2], [56.3, -3.7], [46.2, -3.7], [46.2, -10.2]] },
  'SEN': { name: 'Senegal', coords: [[-17.5, 12.3], [-11.3, 12.3], [-11.3, 16.7], [-17.5, 16.7], [-17.5, 12.3]] },
  'SEY': { name: 'Seychelles', coords: [[46.2, -10.2], [56.3, -10.2], [56.3, -3.7], [46.2, -3.7], [46.2, -10.2]] },
  'SIC': { name: 'Sicily', coords: [[12.4, 36.6], [15.7, 36.6], [15.7, 38.3], [12.4, 38.3], [12.4, 36.6]] },
  'SIE': { name: 'Sierra Leone', coords: [[-13.3, 6.9], [-10.3, 6.9], [-10.3, 10.0], [-13.3, 10.0], [-13.3, 6.9]] },
  'SIN': { name: 'Singapore', coords: [[103.6, 1.2], [104.0, 1.2], [104.0, 1.5], [103.6, 1.5], [103.6, 1.2]] },
  'SOA': { name: 'South Africa', coords: [[16.5, -34.8], [32.9, -34.8], [32.9, -22.1], [16.5, -22.1], [16.5, -34.8]] },
  'SOL': { name: 'Solomon Islands', coords: [[155.5, -11.9], [170.2, -11.9], [170.2, -5.1], [155.5, -5.1], [155.5, -11.9]] },
  'SOM': { name: 'Somalia', coords: [[40.9, -1.7], [51.4, -1.7], [51.4, 12.0], [40.9, 12.0], [40.9, -1.7]] },
  'SPA': { name: 'Spain', coords: [[-9.3, 35.9], [4.3, 35.9], [4.3, 43.8], [-9.3, 43.8], [-9.3, 35.9]] },
  'SRI': { name: 'Sri Lanka', coords: [[79.7, 5.9], [81.9, 5.9], [81.9, 9.8], [79.7, 9.8], [79.7, 5.9]] },
  'SRL': { name: 'Sri Lanka', coords: [[79.7, 5.9], [81.9, 5.9], [81.9, 9.8], [79.7, 9.8], [79.7, 5.9]] },
  'SUD': { name: 'Sudan', coords: [[21.8, 8.7], [38.6, 8.7], [38.6, 22.0], [21.8, 22.0], [21.8, 8.7]] },
  'SUL': { name: 'Sulawesi', coords: [[119.3, -5.5], [125.1, -5.5], [125.1, 1.8], [119.3, 1.8], [119.3, -5.5]] },
  'SUM': { name: 'Sumatra', coords: [[95.2, -5.9], [106.0, -5.9], [106.0, 5.9], [95.2, 5.9], [95.2, -5.9]] },
  'SUR': { name: 'Suriname', coords: [[-58.1, 1.8], [-53.9, 1.8], [-53.9, 6.0], [-58.1, 6.0], [-58.1, 1.8]] },
  'SWC': { name: 'Eswatini', coords: [[30.8, -27.3], [32.1, -27.3], [32.1, -25.7], [30.8, -25.7], [30.8, -27.3]] },
  'SWZ': { name: 'Eswatini', coords: [[30.8, -27.3], [32.1, -27.3], [32.1, -25.7], [30.8, -25.7], [30.8, -27.3]] },
  'TAI': { name: 'Taiwan', coords: [[120.1, 21.9], [122.0, 21.9], [122.0, 25.3], [120.1, 25.3], [120.1, 21.9]] },
  'TAN': { name: 'Tanzania', coords: [[29.3, -11.7], [40.4, -11.7], [40.4, -1.0], [29.3, -1.0], [29.3, -11.7]] },
  'TAS': { name: 'Tasmania', coords: [[143.8, -43.6], [148.5, -43.6], [148.5, -39.6], [143.8, -39.6], [143.8, -43.6]] },
  'TCI': { name: 'Turks and Caicos', coords: [[-72.5, 21.2], [-71.1, 21.2], [-71.1, 21.9], [-72.5, 21.9], [-72.5, 21.2]] },
  'TEX': { name: 'Texas', coords: [[-106.6, 25.8], [-93.5, 25.8], [-93.5, 36.5], [-106.6, 36.5], [-106.6, 25.8]] },
  'THA': { name: 'Thailand', coords: [[97.3, 5.6], [105.6, 5.6], [105.6, 20.5], [97.3, 20.5], [97.3, 5.6]] },
  'TOG': { name: 'Togo', coords: [[-0.1, 6.1], [1.9, 6.1], [1.9, 11.1], [-0.1, 11.1], [-0.1, 6.1]] },
  'TOK': { name: 'Tokelau', coords: [[-171.9, -9.2], [-171.2, -9.2], [-171.2, -8.4], [-171.9, -8.4], [-171.9, -9.2]] },
  'TON': { name: 'Tonga', coords: [[-175.7, -21.5], [-173.9, -21.5], [-173.9, -15.6], [-175.7, -15.6], [-175.7, -21.5]] },
  'TRI': { name: 'Trinidad and Tobago', coords: [[-61.9, 10.0], [-60.5, 10.0], [-60.5, 11.3], [-61.9, 11.3], [-61.9, 10.0]] },
  'TRT': { name: 'Trinidad and Tobago', coords: [[-61.9, 10.0], [-60.5, 10.0], [-60.5, 11.3], [-61.9, 11.3], [-61.9, 10.0]] },
  'TUA': { name: 'Tuvalu', coords: [[176.1, -10.8], [179.9, -10.8], [179.9, -5.6], [176.1, -5.6], [176.1, -10.8]] },
  'TUN': { name: 'Tunisia', coords: [[7.5, 30.2], [11.6, 30.2], [11.6, 37.5], [7.5, 37.5], [7.5, 30.2]] },
  'TUR': { name: 'Turkey', coords: [[26.0, 35.8], [44.8, 35.8], [44.8, 42.1], [26.0, 42.1], [26.0, 35.8]] },
  'TVL': { name: 'Tuvalu', coords: [[176.1, -10.8], [179.9, -10.8], [179.9, -5.6], [176.1, -5.6], [176.1, -10.8]] },
  'UGA': { name: 'Uganda', coords: [[29.6, -1.5], [35.0, -1.5], [35.0, 4.2], [29.6, 4.2], [29.6, -1.5]] },
  'URU': { name: 'Uruguay', coords: [[-58.4, -35.0], [-53.1, -35.0], [-53.1, -30.1], [-58.4, -30.1], [-58.4, -35.0]] },
  'VAN': { name: 'Vanuatu', coords: [[166.5, -20.2], [170.2, -20.2], [170.2, -13.1], [166.5, -13.1], [166.5, -20.2]] },
  'VEN': { name: 'Venezuela', coords: [[-73.4, 0.6], [-59.8, 0.6], [-59.8, 12.2], [-73.4, 12.2], [-73.4, 0.6]] },
  'VIC': { name: 'Victoria', coords: [[140.9, -39.2], [149.9, -39.2], [149.9, -34.0], [140.9, -34.0], [140.9, -39.2]] },
  'VIE': { name: 'Vietnam', coords: [[102.1, 8.2], [109.5, 8.2], [109.5, 23.4], [102.1, 23.4], [102.1, 8.2]] },
  'VNA': { name: 'Vietnam', coords: [[102.1, 8.2], [109.5, 8.2], [109.5, 23.4], [102.1, 23.4], [102.1, 8.2]] },
  'WAL': { name: 'Western Australia', coords: [[112.9, -35.1], [129.0, -35.1], [129.0, -13.4], [112.9, -13.4], [112.9, -35.1]] },
  'WAS': { name: 'Western Australia', coords: [[112.9, -35.1], [129.0, -35.1], [129.0, -13.4], [112.9, -13.4], [112.9, -35.1]] },
  'WAU': { name: 'Western Australia', coords: [[112.9, -35.1], [129.0, -35.1], [129.0, -13.4], [112.9, -13.4], [112.9, -35.1]] },
  'WHM': { name: 'Bahamas', coords: [[-80.5, 20.9], [-72.7, 20.9], [-72.7, 27.3], [-80.5, 27.3], [-80.5, 20.9]] },
  'WIN': { name: 'Saint Vincent and the Grenadines', coords: [[-61.5, 12.6], [-61.1, 12.6], [-61.1, 13.4], [-61.5, 13.4], [-61.5, 12.6]] },
  'XMS': { name: 'Christmas Island', coords: [[105.6, -10.6], [105.8, -10.6], [105.8, -10.4], [105.6, -10.4], [105.6, -10.6]] },
  'YEM': { name: 'Yemen', coords: [[42.6, 12.1], [53.1, 12.1], [53.1, 19.0], [42.6, 19.0], [42.6, 12.1]] },
  'ZAI': { name: 'Democratic Republic Congo', coords: [[12.2, -13.5], [31.2, -13.5], [31.2, 5.4], [12.2, 5.4], [12.2, -13.5]] },
  'ZAM': { name: 'Zambia', coords: [[21.9, -18.1], [33.7, -18.1], [33.7, -8.2], [21.9, -8.2], [21.9, -18.1]] },
  'ZIM': { name: 'Zimbabwe', coords: [[25.2, -22.4], [33.1, -22.4], [33.1, -15.6], [25.2, -15.6], [25.2, -22.4]] }
};

async function createLocationGeoJSONs() {
  console.log('🗺️  Creating individual GeoJSON files for each location...\n');
  
  // Créer le dossier locations
  if (!fs.existsSync(LOCATIONS_DIR)) {
    fs.mkdirSync(LOCATIONS_DIR, { recursive: true });
    console.log(`📁 Created directory: ${LOCATIONS_DIR}`);
  }
  
  // Lire le CSV pour obtenir les locations utilisées
  const csvContent = fs.readFileSync(LOCATION_CSV, 'utf8');
  const lines = csvContent.split('\n');
  const usedLocations = new Set();
  
  for (let i = 1; i < lines.length; i++) {
    const line = lines[i].trim();
    if (line) {
      const [locationCode] = line.split(',');
      if (locationCode && locationCode !== 'Area_code_L3') {
        usedLocations.add(locationCode);
      }
    }
  }
  
  console.log(`📊 Found ${usedLocations.size} unique locations in CSV`);
  
  let created = 0;
  let skipped = 0;
  let missing = 0;
  
  // Créer un GeoJSON pour chaque location
  for (const locationCode of usedLocations) {
    const filename = `${locationCode.toLowerCase()}.json`;
    const filepath = path.join(LOCATIONS_DIR, filename);
    
    if (fs.existsSync(filepath)) {
      console.log(`⏭️  ${locationCode}: Already exists`);
      skipped++;
      continue;
    }
    
    const locationInfo = LOCATION_COORDINATES[locationCode];
    if (!locationInfo) {
      console.log(`❌ ${locationCode}: No coordinates defined`);
      missing++;
      continue;
    }
    
    const geoJSON = {
      "type": "Feature",
      "properties": {
        "name": locationInfo.name,
        "locationCode": locationCode,
        "speciesCount": 0, // Will be calculated later
        "densityZone": "Palm Distribution Zone",
        "color": "#2d5a2d"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [locationInfo.coords]
      }
    };
    
    try {
      fs.writeFileSync(filepath, JSON.stringify(geoJSON, null, 2), 'utf8');
      console.log(`✅ ${locationCode}: Created ${filename}`);
      created++;
    } catch (error) {
      console.log(`❌ ${locationCode}: Error creating file - ${error.message}`);
      missing++;
    }
  }
  
  console.log(`\n🎉 Location GeoJSON creation complete!`);
  console.log(`📊 Statistics:`);
  console.log(`   ✅ Created: ${created}`);
  console.log(`   ⏭️  Skipped (already exist): ${skipped}`);
  console.log(`   ❌ Missing coordinates: ${missing}`);
  console.log(`   📁 Total files in directory: ${created + skipped}`);
  
  if (missing > 0) {
    console.log(`\n⚠️  Note: ${missing} locations need coordinate definitions`);
  }
}

createLocationGeoJSONs().catch(console.error);